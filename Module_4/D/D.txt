4D: Color Spaces

https://www.rapidtables.com/convert/color/hsl-to-rgb.html [HSL to RGB color conversion]
https://patents.google.com/patent/US1617024A/en [Color Chart Patent]
http://www.brucelindbloom.com/index.html?Eqn_XYZ_to_RGB.html [XYZ to RGB]

--2-- File 53
The last video concluded with the CIE chromaticity diagram which segues nicely into our discussion of color spaces in this video.

--3-- File 54
Listed here are the common color spaces used in computer graphics technologies. You are already familiar with red-green-blue space, and maybe have seen references to the cyan-magenta-yellow space, denoted (CMYK, 'K' stands for black).

Every model listed here has its utility, which we will discuss.

--4-- File 55
The RGB color space is used in display technologies like computer monitors. It is very easy to understand and is commonly used in computer graphics as we have already seen. These reasons drive the adoption of RGB as the de-facto color space.

All six major hues are easily represented. Combinations of red and green make orange and yellow; combinations of red and blue make magenta or purple; and combinations of green and blue make cyan.

--5-- File 56
However, there are major problems with the RGB space. One is that RGB space does not represent all perceivable color. Another is that RGB is not very intuitive when it comes to color changes.

For example, describing how to get from a dark red to a light pink, which are the same hue, is difficult. This requires adding blue and green to the color, which does not make a lot of sense since there is no green or blue perceived in the color pink.

--6-- File 58
The cyan-yellow-magenta color space is typically used in ink-based technologies, or printers. This represents subtractive color properties when printing on white paper. 

You will often see the abbreviation CMYK, which stands for cyan, magenta, yellow, and black. Color combinations are similar to the RBG combinations.

--7-- File 59
The YIQ color space is typically used in television broadcast signals. 'Y' is the luminance term and I and Q represent the orange-to-cyan and green-to-magenta contributions. YIQ has an easy, linear transformation to and from the RGB color space as shown on this slide.

--8-- File 60
The hue-saturation-value color space is useful in representing subtle differences or changes. The differences or changes feel natural and intuitive.

The color space itself is a little more difficult to envision as it is modelled with a cone instead of a 3-dimensional space.  The hue term ranges from 0 to 360, like a geometric degrees, and saturation ranges from the center axis to the edges representing white (the center) to the full hue at the edges.

'Value' is the brightness term on the vertical axis ranging from black to white on the center axis.

--9-- File 61
HSV comes from a color system derived by Albert Munsell in the early 1900s to give names to intuitive properties of color. The intuitive nature of this color space makes it very appealing and useful but unfortunately does not have a linear transformation to and from the RGB color space. The algorithm can be found online, and is simple enough, but cannot be represented as a matrix.

--10-- File 62
The HSL, hue-saturation-lightness model, is very similar to HSV, except it uses a double-sided cone shape instead of a single cone shape. In practice, the only difference is in the third component, which reaches full color saturation at 0.5, and as it approaches 1.0 all color hues converge at white.

--11-- File 63
Here is an image of a color tool from Microsoft Windows 98. Although out-dated, this color selection method is still in-use today.  Notice the columns in the bottom-right show the HSL along-side the RGB values.

--12-- File 65
The CIE has introduced a number of color models over the years that have improved upon their original xyY color model.  The LUV model is one of their more recent and boasts increased range and uniformity across the dimensions.

The transformation from x-y to u-v is shown on this slide.

--13-- File 69
You can see from the diagram, especially if you compare this graph to the one shown in the previous video, that red, green and purple extants are quite evenly distributed.

--14-- File 72
Here are a few more notes regarding the LUV model.

Because the L value so closely matches perceived lightness, it is known as psychometric lightness.

The HSL model maps easily to this model.

Tektronix, a company that makes measurement equipment, has used the LUV model as its color selection interface.

--15-- File 73
For the hue of value 271.6, here we see a chart of selectable colors of various chroma and lightness.

--16-- File 74
An alternate interface uses sliders to adjust the chroma, value, and hue.

--17-- File 76
CIE's XYZ color space is used as a common mapping element for monitor color. Mapping from RGB to XYZ applies weights that can be set as a matrix transformation. 
So the inverse matrix can be used to map the XYZ values to the monitor's RGB space.

You can even make a transformation between two monitors' color spaces by using the appropriate series of matrices.

--18-- File 77
Deriving these colormap matrices requires precise measurements and calibration of the devices. It is based on examining the RGB voltage used to produce a white color.

Watt's text gives an example of the matrix used to produce a standard D-65 white. There are also examples found in Haines and Mueller's Real-Time Rendering text.

--19-- File 79
You may notice that in many of the the color gamut transformations, some of the matrix values are negative. This is required for color clipping.

As I mentioned before the CIE-XYZ space represents the entire visible color spectrum, but monitors have a limited color bandwidth. In order to get true color into a monitor's color space we must adjust some values accordingly. There are multiple methods to do this and several texts discuss different approaches.

Color clipping is also required to map true color into a printer's color space.

This concludes this video.
